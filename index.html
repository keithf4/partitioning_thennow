<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>PostgreSQL Partitioning: Then & Now</title>

        <meta name="description" content="PostgreSQL Partitioning: Then & Now">
        <meta name="author" content="Keith Fiske">

		<link rel="stylesheet" href="css/reveal.css">
        <!--        <link rel="stylesheet" href="css/theme/black.css"> -->
        <link rel="stylesheet" href="css/theme/crunchy.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

        <style>
            .reveal {
              font-size: 30px;
             }

            #li30 li { line-height:30px }
        </style>

	</head>
	<body>

		<div class="reveal">
			<div class="slides">

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h1>PostgreSQL Partitioning:<br/>Then & Now</h1>
                    <p>
                        Presented by <a href="http://keithf4.com" target="_blank">Keith Fiske</a> / <a href="http://twitter.com/keithf4" target="_blank">@keithf4</a>
                    </p>
                    <p>
                    Senior Database Engineer @ <a href="https://www.crunchydata.com/" target="_blank">Crunchy Data Solutions</a><br/>
                        (<a href="https://github.com/keithf4/pg_partman" target="_blank">pg_partman</a>, <a href="https://github.com/omniti-labs/pg_extractor" target="_blank">pg_extractor</a>, <a href="https://github.com/omniti-labs/mimeo" target="_blank">mimeo</a>)
                    </p>
                    <p>
                    <br/>
                    <br/>
                    Follow along at <br/><a href="http://slides.keithf4.com/extension_dev">http://slides.keithf4.com/partitioning_thennow</a>
                    </p>
                
                </section>


				<section data-background="css/theme/crunchy_white_bg.png">
                    <h2>Crunchy Data Solutions, Inc</h2>
                    <p>
                        <ul>
                            <li>Industry leader in providing enterprise PostgreSQL support and open source solutions</li>
                            <li>Trusted PostgreSQL</li>
                            <ul>
                                <li>100% Open Source PostgreSQL</li> 
                                <li>Common Criteria Certified</li>
                            </ul>
                            <li>We're hiring!</li>
                            <ul>
                                <li><a href="https://www.crunchydata.com/" target="_blank">https://www.crunchydata.com/</a></li>
                                <li>DBAs, Systems Engineers, Container Experts</li>
                            </ul>
                        </ul>
                    </p>
                </section>


				<section data-background="css/theme/crunchy_white_bg.png">
                    <h2>What is partitioning?</h2>
                    <ul>
                        <li>Organization of data into logical "chunks"</li>
                        <li>Each "chunk" goes into its own table</li>
                        <li>Allows planner to optimize around that organization</li>
                        <ul>
                            <li>Constraint exclusions</li>
                        </ul>
                        <li>Allows data retention policies</li>
                        <ul>
                            <li>Easily remove data that is no longer needed "live"</li>
                            <li>Minimal maintenance impact</li>
                            <li>Improved write &amp; read performance</li>
                        </ul>
                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Overview</h4>

                </section>


                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Table Inheritance</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Table Constraints</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Triggers</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Triggers 2</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Property Inheritance</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>Retention</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How did PostgreSQL do this? (pre-10)</h2>
                    <h4>pg_partman</h4>

                    <ul>
                        <li>How pg_partman manages all previous things</li>
                        <li>Additional constraint exclusion feature</li>

                    </ul>
                </section>



                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How does PostgreSQL do this? (PG 10)</h2>

                    <ul>
                        <li>Inheritance, constraints &amp; triggers all handled internally</li>
                        <li>New syntax commands</li>
                        <li>Range &amp; List modes</li>
                        <li>Sub-partitioning supported</li>
                        <li>Internal tuple-routing tremendously faster than trigger redirects</li>
                        <li>Not yet any significant read optimization that's better than pre-10</li>
                    </ul>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How does PostgreSQL do this? (PG 10)</h2>
                    <h4>Range Partitioning</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How does PostgreSQL do this? (PG 10)</h2>
                    <h4>List Partitioning</h4>

                </section>


                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How does PostgreSQL do this? (PG 10)</h2>
                    <h4>pg_partman</h4>

                    <ul>
                        <li>How pg_partman incorportates native things</li>
                        <li>Template table</li>

                    </ul>
                </section>


                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How will PostgreSQL do this? (PG 11+)</h2>
                    <h4>Hash Partitioning</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How will PostgreSQL do this? (PG 11+)</h2>
                    <h4>Default partition</h4>

                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How will PostgreSQL do this? (PG 11+)</h2>
                    <h4>Update routing</h4>
                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How will PostgreSQL do this? (PG 11+)</h2>
                    <h4>Index inheritance</h4>
                </section>

                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>How will PostgreSQL do this? (PG 11+)</h2>
                    <h4>Read optimizations</h4>
                </section>



                <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>Still to come</h2>
                    <ul>
                        <li>Global Indexes - No ETA (please correct me)</li>

                </section>




				<section data-background="css/theme/crunchy_white_bg.png">
                    <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>Click down on this slide</h2>
                    <p>
                        <ul>
                            <li>Stuff stuff stuff</li>
                        </ul>
                    </p>
                    </section>
                    <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>Click down on this slide</h2>
                    <p>
                        <ul>
                            <li>Stuff stuff stuff</li>
                        </ul>
                    </p>
                    </section>
                    <section data-background="css/theme/crunchy_white_bg.png">
                    <h2>Last slide in subsection</h2>
                    <p>
                        <ul>
                            <li>click right</li>
                        </ul>
                    </p>
                    </section>
                </section>


                 <section data-background="css/theme/crunchy_white_bg.png">
                     <h1>Thank you!</h1>
                    <ul>
                        <li>PostgreSQL Home Page - <a href="http://www.postgresql.org" target="_blank">postgresql.org</a></li>
                        <li>Planet PostgreSQL Community News Feed - <a href="http://planet.postgresql.org" target="_blank">planet.postgresql.org</a></li>
                        <li>PostgreSQL Extension Network - <a href="http://pgxn.org" target="_blank">pgxn.org</a></li>
                        <li>Crunchy Data Solutions, Inc - <a href="http://www.crunchydata.com" target="_blank">crunchydata.com</a></li>
                        <li>Make cool presentations like this - <a href="https://github.com/hakimel/reveal.js/" target="_blank">reveal.js</a></li>
                    </ul>

                 </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				],
                slideNumber: true,
                history: true,
			});
		</script>
	</body>
</html>
